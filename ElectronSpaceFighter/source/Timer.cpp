//////////////////////////////////////////////////////////////////////////
//		@file				Timer.cpp
//		@details			implementation of the timer class
//		@author				Derek Potter
//		@version			1.0
//		@date last edited	10/7/2013
//////////////////////////////////////////////////////////////////////////

#include "AIE.h"
#include "Timer.h"

//////////////////////////////////////////////////////////////////////////
//		Initializing the timer
//////////////////////////////////////////////////////////////////////////
oTimer::oTimer(){

	m_bRunning = 0;
	m_ulEndTime = 0;
	m_ulTime = 0;

}

//////////////////////////////////////////////////////////////////////////
//		Starts a timer with an end time
//////////////////////////////////////////////////////////////////////////
void oTimer::Start(unsigned long a_ulEndTime){

	m_bRunning = 1;
	m_ulEndTime = a_ulEndTime;

}

//////////////////////////////////////////////////////////////////////////
//		Stops a timer (needed seperate from reset for bosses and levels)
//////////////////////////////////////////////////////////////////////////
bool oTimer::Stop(){

	if(m_ulTime >= m_ulEndTime){
		m_bRunning = 0;
		return 1;
	}

	return 0;

}

//////////////////////////////////////////////////////////////////////////
//		Resets a timer so it begins again
//////////////////////////////////////////////////////////////////////////
void oTimer::Reset(){

	m_bRunning = 1;
	m_ulTime = 0;

}

//////////////////////////////////////////////////////////////////////////
//		returns the time (for scripted events)
//////////////////////////////////////////////////////////////////////////
unsigned long oTimer::GetTime(){

	return m_ulTime;

}

void oTimer::Running(){

	if(m_bRunning == 1)
		m_ulTime++;

}

//////////////////////////////////////////////////////////////////////////
//		The destructor, it does nothing and feels lonely... SCIENCE!
//////////////////////////////////////////////////////////////////////////
oTimer::~oTimer(){

	//strange creatures lurk in the depths of this function

}